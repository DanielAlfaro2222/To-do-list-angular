<header>
  <h2>Todo list</h2>
</header>

<main>
  <section>
    <form method="post" (ngSubmit)="agregarTarea($event)">
      <label>
        Descripcion
        <input type="text" name="Descripcion" [(ngModel)]="newWork.descripcion">
      </label>

      <button>Agregar tarea</button>
    </form>
  </section>

  <section>
    <h2>Listado tareas</h2>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Descripcion</th>
          <th>Fecha creacion</th>
          <th>Completar</th>
          <th>Terminada</th>
          <th></th>
          <th></th>
        </tr>
      </thead>

      <tbody>
        <tr *ngIf="tareas.length === 0">
          <td>No hay tareas :(, crea la primer tarea</td>
        </tr>

        <tr *ngFor="let tarea of tareas; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ tarea.descripcion }}</td>
          <td>{{ tarea.fechaCreacion }}</td>
          <td>
            <input type="checkbox" [checked]="tarea.terminada" (click)="completarTarea(tarea.id)">
          </td>
          <td *ngIf="tarea.terminada; then tareaTerminada; else tareaNoTerminada"></td>
          <td>
            <button>
              <i class="fa-solid fa-pen" aria-hidden="true" title="Editar"></i>
            </button>
          </td>
          <td>
            <button (click)="eliminarTarea(tarea.id)">
              <i class="fa-solid fa-trash-can" aria-hidden="true" title="Eliminar"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <article>
      <h2>Editar tarea</h2>

      <form method="post">
        <label>
          Descripcion
          <input type="text">
        </label>

        <label>
          Fecha creacion
          <input type="date">
        </label>

        <label>
          Terminada
          <input type="checkbox">
        </label>

        <button>Editar</button>
      </form>
    </article>
  </section>
</main>

<ng-template #tareaTerminada>
  <i class="fa-solid fa-check" aria-hidden="true"></i>
</ng-template>

<ng-template #tareaNoTerminada>
  <i class="fa-solid fa-xmark" aria-hidden="true"></i>
</ng-template>
